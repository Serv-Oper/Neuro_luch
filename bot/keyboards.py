from aiogram.types import (
    InlineKeyboardMarkup,
    InlineKeyboardButton,
    ReplyKeyboardMarkup,
    KeyboardButton,
)
from aiogram.utils.keyboard import InlineKeyboardBuilder

# ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
# Digit emoji mapping for dynamic numbering
# ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
DIGIT_EMOJI: dict[str, str] = {
    "0": "0Ô∏è‚É£",
    "1": "1Ô∏è‚É£",
    "2": "2Ô∏è‚É£",
    "3": "3Ô∏è‚É£",
    "4": "4Ô∏è‚É£",
    "5": "5Ô∏è‚É£",
    "6": "6Ô∏è‚É£",
    "7": "7Ô∏è‚É£",
    "8": "8Ô∏è‚É£",
    "9": "9Ô∏è‚É£",
}

# ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
# Emojis for model labels
# ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
EMOJI = {
    "fast": "‚ö°Ô∏è",
    "smart": "üß†",
    "vision": "üëÅÔ∏è",
}

# ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
# Common navigation buttons
# ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
BACK_BUTTON = InlineKeyboardButton(text="üîô –ù–∞–∑–∞–¥", callback_data="back")
MAIN_MENU_BUTTON = InlineKeyboardButton(text="üè† –ú–µ–Ω—é", callback_data="main_menu")

# ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
# Keyboards for guest authentication flow
# ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
def profile_guest_keyboard() -> InlineKeyboardMarkup:
    """
    –ö–Ω–æ–ø–∫–∏ ¬´–í–æ–π—Ç–∏ / –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è¬ª –∏ ¬´–ü–æ–¥–ø–∏—Å–∫–∞¬ª –¥–ª—è –≥–æ—Å—Ç–µ–≤–æ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è
    """
    b = InlineKeyboardBuilder()
    # –ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞: –≤—Ö–æ–¥ –∏–ª–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
    b.button(text="üì≤ –í–æ–π—Ç–∏ / üìã–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è", callback_data="auth_choice")
    # –í—Ç–æ—Ä–∞—è —Å—Ç—Ä–æ–∫–∞: –ø–æ–¥–ø–∏—Å–∫–∞
    b.button(text="üíé –ü–æ–¥–ø–∏—Å–∫–∞", callback_data="subscription")
    b.adjust(1, 1)  # –¥–≤–µ –∫–Ω–æ–ø–∫–∏ –≤ –¥–≤–µ —Å—Ç—Ä–æ–∫–∏
    return b.as_markup()


def auth_choice_keyboard() -> InlineKeyboardMarkup:
    """
    –ú–µ–Ω—é –≤—ã–±–æ—Ä–∞: –í–æ–π—Ç–∏ –∏–ª–∏ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
    """
    b = InlineKeyboardBuilder()
    b.row(
        InlineKeyboardButton(text="üì≤ –í–æ–π—Ç–∏", callback_data="show_login"),
        InlineKeyboardButton(text="üìã –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è", callback_data="show_register"),
    )
    b.adjust(1)
    return b.as_markup()

# ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
# Conversation state reply keyboard
# ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
def conversation_reply_keyboard() -> ReplyKeyboardMarkup:
    """
    ReplyKeyboardMarkup —Å –∫–Ω–æ–ø–∫–æ–π üõë –ó–∞–∫–æ–Ω—á–∏—Ç—å —Ä–∞–∑–≥–æ–≤–æ—Ä
    """
    return ReplyKeyboardMarkup(
        keyboard=[[KeyboardButton(text="üõë –ó–∞–∫–æ–Ω—á–∏—Ç—å —Ä–∞–∑–≥–æ–≤–æ—Ä")] ],
        resize_keyboard=True,
        one_time_keyboard=False,
    )

# ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
# Main menu keyboard
# ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
def main_menu_keyboard() -> InlineKeyboardMarkup:
    """
    –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é (inline):
    üÜï –ù–æ–≤—ã–π —Ä–∞–∑–≥–æ–≤–æ—Ä
    üí¨ –ú–æ–∏ —Ä–∞–∑–≥–æ–≤–æ—Ä—ã
    üë§ –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç
    üíé –ü–æ–¥–ø–∏—Å–∫–∞
    ‚ÑπÔ∏è –û –±–æ—Ç–µ
    """
    b = InlineKeyboardBuilder()
    b.button(text="üÜï –ù–æ–≤—ã–π —Ä–∞–∑–≥–æ–≤–æ—Ä", callback_data="new_chat")
    b.button(text="üí¨ –ú–æ–∏ —Ä–∞–∑–≥–æ–≤–æ—Ä—ã", callback_data="my_chats")
    b.button(text="üë§ –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç", callback_data="profile")
    b.button(text="üíé –ü–æ–¥–ø–∏—Å–∫–∞", callback_data="subscription")
    b.button(text="‚ÑπÔ∏è –û –±–æ—Ç–µ", callback_data="about")
    b.adjust(1)
    return b.as_markup()

# ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
# New chat options keyboard
# ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
def new_chat_keyboard(default_model: str = "fast") -> InlineKeyboardMarkup:
    """
    –ú–µ–Ω—é –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Ä–∞–∑–≥–æ–≤–æ—Ä–∞: üß† –ò–∑–º–µ–Ω–∏—Ç—å –º–æ–¥–µ–ª—å + üè† –ú–µ–Ω—é
    """
    icon = EMOJI.get(default_model, "")
    b = InlineKeyboardBuilder()
    b.button(text=f"üß† –ò–∑–º–µ–Ω–∏—Ç—å –º–æ–¥–µ–ª—å ({icon})", callback_data="change_model")
    b.add(MAIN_MENU_BUTTON)
    b.adjust(1)
    return b.as_markup()

# ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
# End chat naming keyboard
# ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
def end_chat_keyboard() -> InlineKeyboardMarkup:
    """
    –ü–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è "–ó–∞–∫–æ–Ω—á–∏—Ç—å —Ä–∞–∑–≥–æ–≤–æ—Ä": üö´ –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å + üîô –ù–∞–∑–∞–¥
    """
    b = InlineKeyboardBuilder()
    b.button(text="üö´ –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å", callback_data="skip_title")
    b.add(BACK_BUTTON)
    b.adjust(1)
    return b.as_markup()

# ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
# Change model selection keyboard
# ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
def change_model_keyboard(is_premium: bool, current_model: str) -> InlineKeyboardMarkup:
    """
    –í—ã–±–æ—Ä –º–æ–¥–µ–ª–∏ –≤ –∞–∫—Ç–∏–≤–Ω–æ–º —á–∞—Ç–µ
    """
    b = InlineKeyboardBuilder()
    # –†—É—Å—Å–∫–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è: "fast" ‚Üí "–ë—ã—Å—Ç—Ä–∞—è", "smart" ‚Üí "–£–º–Ω–∞—è", "vision" ‚Üí "–ê–Ω–∞–ª–∏–∑ —Ñ–æ—Ç–æ"
    labels = {"fast": "–ë—ã—Å—Ç—Ä–∞—è", "smart": "–£–º–Ω–∞—è", "vision": "–ê–Ω–∞–ª–∏–∑ —Ñ–æ—Ç–æ"}
    for key, icon in EMOJI.items():
        if key == current_model:
            prefix = "‚úÖ"
        elif not is_premium and key != "fast":
            prefix = "‚ùå"
        else:
            prefix = "üîò"
        text = f"{prefix} {labels.get(key, key)} {icon}"
        cb = "locked_model" if prefix == "‚ùå" else f"model:{key}"
        b.button(text=text, callback_data=cb)
    b.add(BACK_BUTTON)
    b.adjust(1)
    return b.as_markup()

# ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
# My chats keyboard with dynamic numbering
# ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
def my_chats_keyboard(chats: list[dict]) -> InlineKeyboardMarkup:
    """
    –ú–µ–Ω—é ¬´–ú–æ–∏ —Ä–∞–∑–≥–æ–≤–æ—Ä—ã¬ª —Å –Ω—É–º–µ—Ä–∞—Ü–∏–µ–π —ç–º–æ–¥–∑–∏
    """
    b = InlineKeyboardBuilder()
    for idx, chat in enumerate(chats, start=1):
        created = chat["created_at"].strftime("%d.%m")
        title = chat.get("title") or created
        emoji = EMOJI.get(chat.get("model_key", "fast"), EMOJI["fast"])
        number_emoji = "".join(DIGIT_EMOJI[d] for d in str(idx))
        b.button(
            text=f"{number_emoji} {title} | {emoji}",
            callback_data=f"select_chat:{chat['id']}"
        )
    b.adjust(1)
    b.row(
        InlineKeyboardButton(text="üóëÔ∏è –£–¥–∞–ª–∏—Ç—å —Ä–∞–∑–≥–æ–≤–æ—Ä", callback_data="show_delete_menu"),
        BACK_BUTTON
    )
    return b.as_markup()

# ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
# Delete chat menu keyboard
# ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
def delete_menu_keyboard(chats: list[dict]) -> InlineKeyboardMarkup:
    """
    –ú–µ–Ω—é —É–¥–∞–ª–µ–Ω–∏—è —Ä–∞–∑–≥–æ–≤–æ—Ä–æ–≤ + –ù–∞–∑–∞–¥
    """
    b = InlineKeyboardBuilder()
    for chat in chats:
        created = chat["created_at"].strftime("%d.%m")
        title = chat.get("title") or created
        emoji = EMOJI.get(chat.get("model_key", "fast"), EMOJI["fast"])
        b.button(
            text=f"üóëÔ∏è {title} | {emoji}",
            callback_data=f"delete_chat:{chat['id']}"
        )
    b.adjust(1)
    b.row(BACK_BUTTON)
    return b.as_markup()

# ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
# Profile keyboard for authenticated users
# ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
def profile_keyboard() -> InlineKeyboardMarkup:
    """
    –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç (inline): üíé –ü–æ–¥–ø–∏—Å–∫–∞ + üîô –ù–∞–∑–∞–¥
    """
    b = InlineKeyboardBuilder()
    b.button(text="üíé –ü–æ–¥–ø–∏—Å–∫–∞", callback_data="subscription")
    b.add(BACK_BUTTON)
    b.adjust(1)
    return b.as_markup()

# ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
# Subscription keyboard
# ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
def subscription_keyboard(is_premium: bool) -> InlineKeyboardMarkup:
    """
    –ú–µ–Ω—é –ø–æ–¥–ø–∏—Å–∫–∏: –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ + –ù–∞–∑–∞–¥
    """
    b = InlineKeyboardBuilder()
    if not is_premium:
        b.button(text="üí≥ –û—Ñ–æ—Ä–º–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É", callback_data="buy_subscription")
    b.add(BACK_BUTTON)
    b.adjust(1)
    return b.as_markup()

# ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
# About bot keyboard
# ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
def about_bot_keyboard() -> InlineKeyboardMarkup:
    """
    –ü–æ–¥–º–µ–Ω—é "–û –±–æ—Ç–µ": FAQ, –ü–æ–º–æ—â—å, –û –Ω–∞—Å, –ù–∞–∑–∞–¥
    """
    b = InlineKeyboardBuilder()
    b.button(text="‚ùì FAQ", callback_data="faq")
    b.button(text="üÜò –ü–æ–º–æ—â—å", callback_data="help")
    b.button(text="üì¢ –û –Ω–∞—Å", callback_data="about_us")
    b.add(BACK_BUTTON)
    b.adjust(1)
    return b.as_markup()

# ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
# FAQ keyboard
# ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
def faq_keyboard() -> InlineKeyboardMarkup:
    """
    –ü–æ–¥–º–µ–Ω—é FAQ ‚Äî —Å–ø–∏—Å–æ–∫ –≤–æ–ø—Ä–æ—Å–æ–≤ + –ù–∞–∑–∞–¥
    """
    b = InlineKeyboardBuilder()
    b.button(text="–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –≤—Ö–æ–¥", callback_data="faq:1")
    b.button(text="–ü—Ä–µ–º–∏—É–º-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏", callback_data="faq:2")
    b.button(text="–í—ã–±–æ—Ä –º–æ–¥–µ–ª–∏", callback_data="faq:3")
    b.button(text="–û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ç–æ", callback_data="faq:4")
    b.button(text="–õ–∏–º–∏—Ç—ã Free", callback_data="faq:5")
    b.button(text="–ü–æ–¥–¥–µ—Ä–∂–∫–∞", callback_data="faq:6")
    b.add(BACK_BUTTON)
    b.adjust(1)
    return b.as_markup()